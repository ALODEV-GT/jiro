<div class="min-h-screen bg-base-200">
    @if (project ) {
    <div class="mx-auto px-10 pt-8 pb-4">
        <h1 class="text-lg"><span class="font-bold">Proyecto:</span> {{project.name}}</h1>
        <p class="text-sm text-cyan-800">{{project.description}}</p>
    </div>
    }

    <!-- Project tabs -->
    <div class="container mx-auto px-4 pb-8">
        <div class="tabs tabs-bordered tabs-lg mb-8">
            <a class="tab" [class.tab-active]="activeTab === 'board'" (click)="activeTab = 'board'">
                Tablero
            </a>
            <a class="tab" [class.tab-active]="activeTab === 'members'" (click)="activeTab = 'members'">
                Miembros
            </a>
            <a class="tab" [class.tab-active]="activeTab === 'sprints'" (click)="activeTab = 'sprints'">
                Sprints
            </a>
            <a class="tab" [class.tab-active]="activeTab === 'finances'" (click)="activeTab = 'finances'">
                Finanzas
            </a>
            <a class="tab" [class.tab-active]="activeTab === 'reports'" (click)="activeTab = 'reports'">
                Reportes
            </a>
            <a class="tab" [class.tab-active]="activeTab === 'activity'" (click)="activeTab = 'activity'">
                Actividad
            </a>
        </div>

        <!-- Tabs content -->
        <div class="bg-base-100 rounded-xl shadow-lg min-h-[60vh]">

            @if (activeTab === 'board') {
            <div class="text-center">
                <app-board></app-board>
            </div>
            }

            @if (activeTab === 'members') {
            <table class="table table-lg">
                <thead>
                    <tr class="bg-base-200">
                        <th>Nombre</th>
                        <th>Rol</th>
                        <th>Email</th>
                    </tr>
                </thead>
                @if (members.length > 0) {
                <tbody>
                    @for(member of members; track member.id){
                    <tr class="hover">
                        <td>
                            <span>{{member.firstName}}
                                {{member.lastName}}</span>
                        </td>
                        <td>
                            <span class="badge p-3"
                                [ngStyle]="{ 'background-color': member.color}">{{member.role}}</span>
                        </td>
                        <td>{{member.email}}</td>
                    </tr>
                    }
                </tbody>
                } @else {
                <p class="text-lg text-base-content/70 mb-8">
                    No hay miembros en este proyecto
                </p>
                }
            </table>
            }

            @if (activeTab === 'sprints') {
            <div class="text-center">
                <app-sprints></app-sprints>
            </div>
            }

            @if (activeTab === 'finances') {
            <div class="text-center py-20">
                <h2 class="text-3xl font-bold mb-4">Finanzas</h2>
                <p class="text-base-content/60">Presupuesto, horas facturables, costos, etc.</p>
            </div>
            }

            @if (activeTab === 'reports') {
            <div class="text-center py-20">
                <h2 class="text-3xl font-bold mb-4">Reportes</h2>
                <p class="text-base-content/60">Burndown chart, velocity, informes personalizados</p>
            </div>
            }
            @if (activeTab === 'activity') {
            <div class="text-center py-20">
                <app-log-activity></app-log-activity>
            </div>
            }

        </div>
    </div>
</div>